<template>    <span v-if="loaded">        <slot :resource_url="resource_url" :data="data" :loaded="loaded"></slot>    </span></template><script>    /**     * Loads data from resource url and injects in slot.     */    import axios from 'axios'    export default {        name: 'GetData',        props: {            resource_url: {                type: String,  // endpoint for REST query                required: true            }        },        data() {            return {                data: "data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",                loaded : false,            }        },        methods: {            fetch_data(url){                if (localStorage.getItem('token'))                { var headers = {Authorization :  'Token ' + localStorage.getItem('token')}}                else {                    headers = {}                }                axios.get(url,{ headers: headers, responseType: 'arraybuffer'})                .then(response => {                    var bytes = new Uint8Array(response.data);                    var binary = bytes.reduce((data, b) => data += String.fromCharCode(b), '');                    this.data = "data:image/png;base64," + btoa(binary);                    this.loaded = true                })               .catch((error)=>{                   this.data = null;                   console.error(url);                   console.error(error);               })            },        },        created() {            this.fetch_data(this.resource_url);        },        watch : {            resource_url() {                this.fetch_data(this.resource_url)            }        },    }</script><style></style>